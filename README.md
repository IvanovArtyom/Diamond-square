# Diamond-square
Реализация алгоритма **Diamond-square** из компьютерной графики для построения карт высот.
Программа генерирует случайный ландшафт на основе введенных пользователем данных и отображает его на экран, используя разные цвета.
У пользователя есть возможность сохранить получившееся изображение и использовать его в своих нуждах.
## Об алгоритме
Алгоритм **Diamond-square** начинает работу с двумерного массива размера $2^n + 1$. В четырёх угловых точках массива устанавливаются начальные значения высот. Шаги **diamond** и **square** выполняются поочередно до тех пор, пока все значения массива не будут установлены.

![Одна итерация алгоритма Diamond-square на примере массива 5х5](https://github.com/IvanovArtyom/Diamond-square/blob/main/Steps%20of%20the%20Diamond-Square%20algorithm.jpg)  
*Одна итерация алгоритма Diamond-square на примере массива 5х5*

**Шаг 1**. Инициализация угловых точек. Присваивание им значений высот (например, выбором случайных чисел).  
**Шаг 2**. Шаг **diamond**. Нахождение срединной точки, присваивание ей значения, на основе среднего от угловых точек, плюс случайное число.  
**Шаг 3**. Шаг **square**. Нахождение срединных точек для ромбов, отмеченных черными точками (на этом шаге, по одной точке каждого ромба выходят за пределы массива). Плюс случайное число.

Случайное значение состоит из трех переменных: **R**, **L** и **Rand**.
1. **R** – фактор неровности (roughness factor) в промежутке от **0** до **1**.
2. **L** – длина между вершинами или размер текущего квадрата, который с каждой итерацией будет уменьшаться.
3. **Rand** – функция, которая с равной вероятностью возвращает **1** или **-1**.  

Соответственно, при каждой итерации случайное значение, прибавляющееся к срединным точкам, уменьшается, так как уменьшается размер квадрата.
#### Примечание:
В шагах **diamond**, точки, расположенные по краям общего массива, будут иметь только три соседних значения, а не четыре (четвертая точка будет выходить за размерность массива). Есть несколько способов справиться с этим – самое простое, взять среднее от трех крайних точек. При последовательном использовании с указанием общих начальных значений, этот метод позволяет «*сшивать*» генерируемые карты высот.
